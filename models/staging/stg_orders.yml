version: 2
models:
  - name: stg_orders
    meta:
      secoda:
        monitors:
          custom_sql:
            query: "SELECT 100;"
          ROW_COUNT:
            name: Row count on orders
            thresholds:
              method: manual  # or automatic. default: automatic
              min: 50
              max: 500
              bounds: both  # or upper or lower. default: both
            schedule:
              cadence: daily # or: hourly
              hour_utc: 3 # for daily: 
    columns:
      - name: user_id
        description: ""
        meta:
          dimension:
            type: number
          secoda:
            monitors:
              - mean
              - min
              - cardinality
      - name: order_date
        description: ""
        meta:
          dimension:
            type: date
          secoda:
            monitors:
              unique_percentage: {}
              null_percentage:
                name: "not as much null"
                thresholds:
                  sensitivity: 9
                  bounds: lower
      - name: status
        description: ""
        meta:
          dimension:
            type: string
      - name: is_completed
        description: ""
        meta:
          dimension:
            type: number

exposures:
  - name: Customer Health Dashboard
    label: Test Label
    type: dashboard
    description: This is a test description.
    url: https://app.lightdash.cloud/projects/dd2d11e8-4fd3-4173-90a1-04dbc6944a2f/dashboards/11dd9c19-fd2b-4ab1-9f1f-07368f3ef035/view
    depends_on:
      - ref('stg_customers')
    owner:
      name: Ani
      email: ani@secoda.co
